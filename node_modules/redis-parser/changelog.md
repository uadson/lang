# Changelog

## v.3.0.0 - 25 May, 2017

Breaking Changes

- Drop support for Node.js < 4
- Removed support for hiredis completely

Internals

- Due to the changes to ES6 the error performance improved by factor 2-3x
- Improved length calculation performance (bulk strings + arrays)

Features

- The parser now handles weird input graceful

## v.2.6.0 - 03 Apr, 2017

Internals

- Use Buffer.allocUnsafe instead of new Buffer() with modern Node.js versions

## v.2.5.0 - 11 Mar, 2017

Features

- Added a `ParserError` class to differentiate them to ReplyErrors. The class is also exported

Bugfixes

- All errors now show their error message again next to the error name in the stack trace
- ParserErrors now show the offset and buffer attributes while being logged

## v.2.4.1 - 05 Feb, 2017

Bugfixes

- Fixed minimal memory consumption overhead for chunked buffers

## v.2.4.0 - 25 Jan, 2017

Features

- Added `reset` function to reset the parser to it's initial values
- Added `setReturnBuffers` function to reset the returnBuffers option (Only for the JSParser)
- Added `setStringNumbers` function to reset the stringNumbers option (Only for the JSParser)
- All Errors are now of sub classes of the new `RedisError` class. It is also exported.
- Improved bulk string chunked data handling performance

Bugfixes

- Parsing time for big nested arrays is now linear

## v.2.3.0 - 25 Nov, 2016

Features

- Parsing time for big arrays (e.g. 4mb+) is now linear and works well for arbitrary array sizes

This case is a magnitude faster than before

    OLD STR: * big array x 1.09 ops/sec ±2.15% (7 runs sampled)
    OLD BUF: * big array x 1.23 ops/sec ±2.67% (8 runs sampled)

    NEW STR: * big array x 273 ops/sec ±2.09% (85 runs sampled)
    NEW BUF: * big array x 259 ops/sec ±1.32% (85 runs sampled)
    (~10mb array with 1000 entries)

## v.2.2.0 - 18 Nov, 2016

Features

- Improve `stringNumbers` parsing performance by up to 100%

Bugfixes

- Do not unref the interval anymore due to issues with NodeJS

## v.2.1.1 - 31 Oct, 2016

Bu